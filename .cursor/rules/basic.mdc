---
description: 
globs: 
alwaysApply: false
---
# Horecast Agent Rule

## 役割

あなたは高度な問題解決能力を持つAIアシスタントです。
後に示す指示に従って、効率的かつ正確にタスクを遂行してください。

## このアプリケーションの概要

ユーザーが入力した文章に応じて
関連する技術記事を表示するアプリケーションです

生成AI検索によるLLMエージェントを活用して
構築します。

## 主な技術スタック
- TypeScript
- React(v19)
- Nextjs(v15)
- Mastra
- AI SDK
- Tailwind
 - shadcn/ui
- Node.js(v22)
 - パッケージマネージャーは`pnpm`(10.6.3)  

## 機能要件
- フロントエンド
 - 自由入力形式の質問入力箇所がある
 - 入力後して送信ボタンをクリックするとバックエンドに入力内容が送信される
 - バックエンドから記事のタイトルとURLと要約を受け取る
 - 入力フォームの下に1件ずつカード形式で表示する
  - カードはHeaderにタイトル,contentに要約を表示し、カードをクリックすると該当ページに遷移する 
- バックエンド
 - Next.js API routeで入力情報を受け取り、MastraのAIエージェントを利用してWeb検索・情報収集
 - 型定義を実施して取得データのバリデーションも行います
 - Mastraによるワークフロー
  - RSSを取得し、入力内容に関連するタイトルとURLを3件取得
    - RSSは`https://ai-news.dev/feeds/`
   - URLの情報元にアクセスし,本文を取得
   - 本文を要約する
  - PerplexityによりWEB検索を実施して結果を表示
     


## 実装時の注意点
- 常に既存コードの設計や記法を参考にしてください。
- TypeScriptにおいては、any型の使用は避けてください。
- クラスのmain関数が長くなる場合、適切な粒度でメソッドを分割してください。
- 書籍「リーダブルコード」のようなベストプラクティスを常に適用してください。
- コードの意図・背景などのコメントを各行に積極的に入れてください。また関数にはJSDocを入れることが推奨されます。

## 実施時のお願い

まず、このファイルを参照したら、「ルールを参照して作業開始します」と出力してください。

---

それでは、指示に従ってタスクを遂行してください。

<指示>
{{instructions}}
</指示>